<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyclic Sort</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            color: #333;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 8px;
        }
        .problem {
            background-color: #f0f8ff;
            border-left: 5px solid #4682b4;
        }
        .understanding {
            background-color: #f0fff0;
            border-left: 5px solid #2e8b57;
        }
        .approach {
            background-color: #fff0f5;
            border-left: 5px solid #db7093;
        }
        .steps {
            background-color: #fff8dc;
            border-left: 5px solid #daa520;
        }
        .code {
            background-color: #f8f8ff;
            border-left: 5px solid #6a5acd;
        }
        pre {
            background-color: #1e1e1e;
            color: #f8f8f8;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
        }
        pre .comment {
            color: #6a9955;
            font-style: italic;
        }
        pre.command {
            background-color: #1e1e1e;
            color: #66d9ef;
            font-weight: 500;
        }
        pre.command .comment {
            color: #7c7c7c;
            font-style: italic;
        }
        h2 {
            color: #444;
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
        }
        .example {
            background-color: #f9f9f9;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            border-left: 3px solid #666;
        }
        .output {
            background-color: #e6f7ff;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            border-left: 3px solid #1890ff;
        }
        .key-insight {
            background-color: #fffbe6;
            border-left: 5px solid #faad14;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .visualization {
            background-color: #f9f0ff;
            border-left: 5px solid #722ed1;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <h1>Cyclic Sort</h1>

    <div class="section problem">
        <h2>Problem</h2>
        <p><strong>Problem Description: Cyclic Sort</strong></p>
        <p>
            We are given an array containing n objects. Each object, when created, was assigned a unique number from 1 to n based on their creation sequence. This means that the object with sequence number 3 was created just before the object with sequence number 4.
        </p>
        <p>
            Write a function to sort the objects in-place on their creation sequence number in O(n) and without any extra space.
        </p>
        <p>
            For simplicity, let's assume we are passed an integer array containing only the sequence numbers, though each number is actually an object. As we know, the input array contains numbers in the range of 1 to n. We can use this fact to devise an efficient way to sort the numbers. Since all numbers are unique, we can try placing each number at its correct place, i.e., placing 1 at index 0, placing 2 at index 1, and so on.
        </p>
        
        <div class="example">
            <p><strong>Example 1:</strong></p>
            <p><strong>Input:</strong> nums = [3, 1, 5, 4, 2]</p>
            <p><strong>Output:</strong> [1, 2, 3, 4, 5]</p>
        </div>
        
        <div class="example">
            <p><strong>Example 2:</strong></p>
            <p><strong>Input:</strong> nums = [2, 6, 4, 3, 1, 5]</p>
            <p><strong>Output:</strong> [1, 2, 3, 4, 5, 6]</p>
        </div>
        
        <div class="example">
            <p><strong>Example 3:</strong></p>
            <p><strong>Input:</strong> nums = [1, 5, 6, 4, 3, 2]</p>
            <p><strong>Output:</strong> [1, 2, 3, 4, 5, 6]</p>
        </div>
    </div>

    <div class="section understanding">
        <h2>Understanding</h2>
        <p>
            In this problem, we need to sort an array of integers from 1 to n in-place with O(n) time complexity and without using extra space. The key insight is that we know the range of numbers: they are from 1 to n, where n is the size of the array.
        </p>
        <p>
            If we know that the numbers range from 1 to n, then each number has a specific place it should be in the sorted array. Specifically, the number 1 should be at index 0, the number 2 should be at index 1, and so on. In general, the number x should be at index (x-1).
        </p>
        <p>
            With this knowledge, we can iterate through the array and place each number at its correct position. If a number is not at its correct position, we swap it with the number that is currently at its correct position. This process continues until all numbers are in their correct positions.
        </p>
        <p>
            The algorithm is called "Cyclic Sort" because it forms cycles while swapping numbers to their correct positions. Once a cycle is complete, we move to the next number in the array.
        </p>
    </div>

    <div class="section approach">
        <h2>Approach</h2>
        <p>
            The Cyclic Sort pattern is useful for problems involving arrays containing numbers in a given range.
        </p>
        
        <div class="key-insight">
            <p><strong>Key Insight:</strong> When dealing with an array containing numbers in the range from 1 to n, we can use the fact that each number has a specific place in the sorted array. The number x should be at index (x-1).</p>
        </div>
        
        <p>The approach for Cyclic Sort is as follows:</p>
        <ol>
            <li>Iterate through the array, and for each element:</li>
            <li>Calculate its correct position (element - 1).</li>
            <li>If the element is not already at its correct position, swap it with the element at its correct position.</li>
            <li>Continue this process until all elements are in their correct positions.</li>
        </ol>
        
        <div class="visualization">
            <p><strong>Visualization of the Approach for Example 1: [3, 1, 5, 4, 2]</strong></p>
            <pre>
Initial array: [3, 1, 5, 4, 2]

Iteration 1: i = 0, value = 3
  Correct index for 3 is 3-1 = 2
  Swap 3 with element at index 2 (which is 5)
  Array becomes: [5, 1, 3, 4, 2]

Now we still have i = 0, but value = 5
  Correct index for 5 is 5-1 = 4
  Swap 5 with element at index 4 (which is 2)
  Array becomes: [2, 1, 3, 4, 5]

Still at i = 0, now value = 2
  Correct index for 2 is 2-1 = 1
  Swap 2 with element at index 1 (which is 1)
  Array becomes: [1, 2, 3, 4, 5]

Now we have i = 0, value = 1
  Correct index for 1 is 1-1 = 0
  Element is already at correct position, move to next index
  i = 1

Iteration 2: i = 1, value = 2
  Correct index for 2 is 2-1 = 1
  Element is already at correct position, move to next index
  i = 2

Iteration 3: i = 2, value = 3
  Correct index for 3 is 3-1 = 2
  Element is already at correct position, move to next index
  i = 3

Iteration 4: i = 3, value = 4
  Correct index for 4 is 4-1 = 3
  Element is already at correct position, move to next index
  i = 4

Iteration 5: i = 4, value = 5
  Correct index for 5 is 5-1 = 4
  Element is already at correct position, move to next index
  i = 5

All elements are now at their correct positions, and the array is sorted: [1, 2, 3, 4, 5]</pre>
        </div>
        
        <p>
            <strong>Time and Space Complexity:</strong>
        </p>
        <ul>
            <li><strong>Time Complexity:</strong> O(n), where n is the size of the array. Although we have a nested loop, the total number of iterations will still be O(n) because each number is placed at its correct position at most once.</li>
            <li><strong>Space Complexity:</strong> O(1) since we are sorting in-place without any extra space.</li>
        </ul>
    </div>

    <div class="section steps">
        <h2>Steps</h2>
        <ol>
            <li>
                <strong>Initialize a pointer i to 0:</strong>
                <ul>
                    <li>This will be used to iterate through the array.</li>
                </ul>
            </li>
            <li>
                <strong>While i is less than the length of the array:</strong>
                <ul>
                    <li>Calculate the correct index j for the current element: j = nums[i] - 1.</li>
                    <li>If the current element (nums[i]) is not already at its correct position (nums[i] != nums[j]):</li>
                    <ul>
                        <li>Swap nums[i] and nums[j].</li>
                    </ul>
                    <li>Else:</li>
                    <ul>
                        <li>Move to the next element: i++.</li>
                    </ul>
                </ul>
            </li>
            <li>
                <strong>Return the sorted array.</strong>
            </li>
        </ol>
    </div>

    <div class="section code">
        <h2>Code</h2>
        <pre>
def cyclicSort(nums):
    <span class="comment">"""Sort an array of numbers from 1 to n in-place using the cyclic sort algorithm.
    
    Args:
        nums: List of integers from 1 to n
        
    Returns:
        Sorted list
    """</span>
    i = 0
    while i < len(nums):
        <span class="comment"># Calculate the correct index for the current element</span>
        j = nums[i] - 1
        
        <span class="comment"># If the current element is not at its correct position</span>
        if nums[i] != nums[j]:
            <span class="comment"># Swap the current element with the element at its correct position</span>
            nums[i], nums[j] = nums[j], nums[i]
        else:
            <span class="comment"># Move to the next element</span>
            i += 1
    
    return nums</pre>
        
        <div class="example">
            <p><strong>Example 1:</strong></p>
            <pre class="command">nums = [3, 1, 5, 4, 2]
cyclicSort(nums)  <span class="comment"># Output: [1, 2, 3, 4, 5]</span></pre>
        </div>
        
        <div class="output">
            <p><strong>Output for Example 1:</strong></p>
            <pre class="command">[1, 2, 3, 4, 5]</pre>
        </div>
        
        <div class="example">
            <p><strong>Example 2:</strong></p>
            <pre class="command">nums = [2, 6, 4, 3, 1, 5]
cyclicSort(nums)  <span class="comment"># Output: [1, 2, 3, 4, 5, 6]</span></pre>
        </div>
        
        <div class="output">
            <p><strong>Output for Example 2:</strong></p>
            <pre class="command">[1, 2, 3, 4, 5, 6]</pre>
        </div>
        
        <div class="example">
            <p><strong>Example 3:</strong></p>
            <pre class="command">nums = [1, 5, 6, 4, 3, 2]
cyclicSort(nums)  <span class="comment"># Output: [1, 2, 3, 4, 5, 6]</span></pre>
        </div>
        
        <div class="output">
            <p><strong>Output for Example 3:</strong></p>
            <pre class="command">[1, 2, 3, 4, 5, 6]</pre>
        </div>
        
        <div class="key-insight">
            <p><strong>Pattern Applications:</strong></p>
            <p>The Cyclic Sort pattern is very useful for solving a variety of array problems, especially when the array contains numbers in a given range. Some common problems that can be solved using this pattern include:</p>
            <ul>
                <li>Finding missing numbers in an array containing numbers in a given range.</li>
                <li>Finding duplicates in an array.</li>
                <li>Finding the corrupt pair (a number that appears twice and a number that's missing) in an array.</li>
                <li>Finding the smallest missing positive number.</li>
            </ul>
            <p>The key advantage of the Cyclic Sort pattern is that it allows us to solve these problems in O(n) time complexity without using extra space.</p>
        </div>
    </div>
</body>
</html>
